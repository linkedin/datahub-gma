# Search Annotation (`@gma.search`)

The `@gma.search` annotation denotes that the annotated item would like to specify
[GMA Search](https://github.com/linkedin/datahub/blob/master/docs/what/search-index.md) options. _This annotation does
not do anything in open-source_ datahub-gma.

> LinkedIn internal: A default set of Search Document, IndexBuilder, Search DAO, and search configuration (Settings,
> Mappings, Query Templates) will be auto-generated by the _metadata-models_ Code Gen plugin based on the information
> associated with this annotation.

The annotation currently has the following properties.

## `@gma.search.index`

This annotation is put onto top-level fields inside an Aspect model and consists of an array specifying:

1. the fully qualified Java class names of the entity urns that would like to specify Search options (ex.
   `com.linkedin.common.DatasetUrn`)
   - the entity urn(s) MUST also appear in the _@gma.aspect.entity_ or _@gma.aspect.entities_ annotation
2. _(to be expanded...)_

> LinkedIn internal: As of 02/06/2024, the first iteration of Code Generation will support only adding this annotation
> as a way to use a barebones set of Search defaults; no customization is supported at this level yet. Limitations and
> other functionality details are described in
> [RFC - No Code Gen Search Onboarding](https://docs.google.com/document/d/1QgSnP8td8yWft_E-KBxt4wmYg2yWKReuH-JtCWa-4DY).
> (TODO: convert to final Wiki link when done)

Example:

```pdl
record MyAspect {

    @gma.search.index = [
        { "urn": "com.linkedin.example.MyEntityUrn" },
        { "urn": "com.linkedin.example.FooEntityUrn" }
    ]
    value: string
}
```

What this says is that "_The MyEntity and FooEntity entities would like the_ `value` _field to be indexed with our set
of default indexing options_".
