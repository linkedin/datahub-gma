# Metadata Events Generator Plugin

> **Status**: In Development.
>
> This plugin generates [5th generation Metadata Events](../../docs/what/mxev5.md). This plugin is finished development,
> however MXE v5 as a whole is still under development (see the [roadmap](../../docs/roadmap.md)).

A gradle plugin which auto generates the schema for metadata events (change, audit, failed change, etc) based on
annotations of PDL metadata models.

## Onboarding to MXE v5

See the [Onboarding document](../../docs/how/mxev5-onboarding.md) for more details.

## Generated Events

The plugin accepts a set of directories that should contain PDL models (by default the same location(s) as the pegasus
plugin). If a model has a `@gma.aspect.entity.urn` annotation, then a set of schemas will be autogenerated by this
plugin. This includes:

- [MetadataChangeEvent](https://github.com/linkedin/datahub-gma/blob/master/docs/what/mxe.md#metadata-change-event-mce)
- [MetadataAuditEvent](https://github.com/linkedin/datahub-gma/blob/master/docs/what/mxe.md#metadata-audit-event-mae)
- FailedMetadataChangeEvent

Each event is specific to the aspect-entity pair, unlike our older, global model.

Consider the following example model:

```pdl
namespace com.linkedin.example

import com.linkedin.common.AuditStamp

@gma.aspect.entity.urn = "com.linkedin.common.MyEntityUrn"
record MyAspect {
  lastModified: optional AuditStamp
  someInfo: optional string
}
```

What this says is that `MyAspect` is an aspect of `MyEntity`. This will generate the above three event schemas for the
entity-aspect combination.

See the [MXE v5](../../docs/what/mxev5.md) document for a full example which includes the generated event definitions.
